<div>Crop Image and Upload
<button class="button button-gamma" ngf-select ngf-change="uploadFile(picFile, croppedDataUrl)"  ngf-resize="{quality: .8}" ng-model="picFile" accept="image/*">
    <svg class="iconic">
        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/img/iconic-sprite.svg#plus"></use>
    </svg>
    <span class="button-label" ng-show="showAdd()" translate="post.media.add_photo"></span>
    <span class="button-label" ng-show="showReplace()" translate="post.media.replace_image"></span>
</button>

<div ng-if="crop == true" ngf-drop ng-model="picFile" ngf-pattern="image/*"  class="cropArea">
    <ui-cropper on-change="uploadFile(picFile, $dataURI)"
                area-type="square"
                image="picFile  | ngfDataUrl"
              result-image="croppedDataUrl"
              ng-init="croppedDataUrl=''">
    </ui-cropper>
</div>

<div>
    <img ng-if="crop == false" class="preview" ngf-src="picFile"
         ngf-background="file"
         ngf-resize="{quality: 0.7}"
         ngf-no-object-url="true" />
</div>
<button ng-if="picFile | ngfDataUrl" ng-click="toggleCrop()">Crop</button>
<span class="err" ng-show="errorMsg">{{errorMsg}}</span>
</div>
